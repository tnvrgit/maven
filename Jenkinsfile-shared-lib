@Library('shared-lib') _ 

pipeline{

      agent any 
        environment {
            branch = "${env.GIT_BRANCH}"
        }
        stages {
            stage('Git Checkout'){
                  steps{
                     git credentialsId: 'git-creds', url: 'https://github.com/tnvrgit/maven' 
               	     }  
                 }	
            stage('maven build'){
                  steps{
                      script{
		    	                cd myapp
                                sh "mvn clean install"
                      	  }
               	     }  
                 }	
                 
               stage ('Check logs') {
                    steps {
                        filterLogs ('WARNING', 1)
                    }
                }
          }
   	     	         
}